<template>
  <div class="side-container">
    <div class="side-nav">
      <div class="side-box">
        <div
          class="box-icon"
          @mouseover="toFonts($event,'客服')"
          @mouseleave="toSvg($event)"
          @click="displayService = true"
        >
          <svg
            t="1602598872149"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5128"
            width="20"
            height="20"
          >
            <path
              d="M510.097674 189.494819c-134.373407 0-243.281839 106.623389-243.281839 238.182704 0 131.541919 108.908432 238.179634 243.281839 238.179634 134.3775 0 243.285932-106.636692 243.285932-238.179634C753.383606 296.117185 644.475174 189.494819 510.097674 189.494819L510.097674 189.494819zM510.097674 189.494819"
              p-id="5129"
              fill="#ffffff"
            />
            <path
              d="M229.17761 519.102768 229.17761 299.209616c-3.079128 0-6.132674 0.125867-9.148357 0.366344C269.882684 191.349049 380.918569 115.974361 510.135536 115.974361c129.21185 0 240.253876 75.374688 290.103214 183.600575-3.016707-0.240477-6.066159-0.366344-9.148357-0.366344l0 219.894176c62.052265 0 112.390743-49.231261 112.390743-109.941971 0-41.235147-23.219841-77.163427-57.552787-95.982028-48.314379-136.089491-180.214455-233.837746-335.792812-233.837746-155.577335 0-287.469224 97.739045-335.788719 233.824443-34.344203 18.815531-57.555857 54.750975-57.555857 95.990215C116.79096 469.871507 167.090553 519.102768 229.17761 519.102768L229.17761 519.102768zM229.17761 519.102768"
              p-id="5130"
              fill="#ffffff"
            />
            <path
              d="M752.869906 645.160789c-63.570851 58.08593-148.919704 93.65196-242.772232 93.65196-93.676519 0-178.881087-35.435047-242.415099-93.327572C153.974837 702.767811 79.32465 804.722878 79.32465 943.226349l864.503403 0C943.827029 804.465005 867.780029 702.385095 752.869906 645.160789L752.869906 645.160789zM752.869906 645.160789"
              p-id="5131"
              fill="#ffffff"
            />
          </svg>
        </div>
      </div>
      <div class="side-box">
        <div class="box-icon" @mouseover="toFonts($event,'微信')" @mouseleave="toSvg($event)">
          <svg
            t="1602598843971"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="4227"
            width="20"
            height="20"
          >
            <path
              d="M693.12 347.264c11.776 0 23.36 0.896 35.008 2.176-31.36-146.048-187.456-254.528-365.696-254.528C163.2 94.912 0 230.656 0 403.136c0 99.52 54.272 181.248 145.024 244.736L108.8 756.864l126.72-63.488c45.312 8.896 81.664 18.112 126.912 18.112 11.392 0 22.656-0.512 33.792-1.344-7.04-24.256-11.2-49.6-11.2-76.032C385.088 475.776 521.024 347.264 693.12 347.264zM498.304 249.024c27.392 0 45.376 17.984 45.376 45.248 0 27.136-17.984 45.312-45.376 45.312-27.072 0-54.336-18.176-54.336-45.312C443.968 266.944 471.168 249.024 498.304 249.024zM244.672 339.584c-27.2 0-54.592-18.176-54.592-45.312 0-27.264 27.392-45.248 54.592-45.248S289.92 266.944 289.92 294.272C289.92 321.408 271.872 339.584 244.672 339.584zM1024 629.76c0-144.896-145.024-262.976-307.904-262.976-172.48 0-308.224 118.144-308.224 262.976 0 145.28 135.808 262.976 308.224 262.976 36.096 0 72.512-9.024 108.736-18.112l99.392 54.528-27.264-90.624C969.728 783.872 1024 711.488 1024 629.76zM616.128 584.384c-17.984 0-36.224-17.92-36.224-36.224 0-18.048 18.24-36.224 36.224-36.224 27.52 0 45.376 18.176 45.376 36.224C661.504 566.464 643.648 584.384 616.128 584.384zM815.488 584.384c-17.856 0-36.032-17.92-36.032-36.224 0-18.048 18.112-36.224 36.032-36.224 27.264 0 45.376 18.176 45.376 36.224C860.864 566.464 842.752 584.384 815.488 584.384z"
              p-id="4228"
              fill="#ffffff"
            />
          </svg>
        </div>
      </div>
      <div class="side-box">
        <div
          class="box-icon"
          @click="toTop"
          @mouseover="toFonts($event,'置顶')"
          @mouseleave="toSvg($event)"
        >
          <svg
            t="1602598897107"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5963"
            width="20"
            height="20"
          >
            <path
              d="M1024 0v102.4H0V0h1024zM512 153.6l512 496.7936h-297.984L727.1936 1024h-429.056v-373.6064H0L512 153.6z"
              p-id="5964"
              fill="#ffffff"
            />
          </svg>
        </div>
      </div>
    </div>
    <div class="side-details">
      <div class="side-service">
        <p>联系电话</p>
        <p>17666665234</p>
        <p>———————</p>
        <p>投稿 合著 独著</p>
        <p>编委 论文 专著</p>
        <p>专利申请&转让</p>
      </div>
      <div class="side-wechat">
        <div class="side-QRCode">
          <img src="../../../assets/images/wechat.jpg" class="wechat">
        </div>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  name: "SideNav",
  data() {
    return {
      svg1:
        '<svg data-v-d2fa3dc4="" t="1602598872149" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5128" width="20" height="20" class="icon"><path data-v-d2fa3dc4="" d="M510.097674 189.494819c-134.373407 0-243.281839 106.623389-243.281839 238.182704 0 131.541919 108.908432 238.179634 243.281839 238.179634 134.3775 0 243.285932-106.636692 243.285932-238.179634C753.383606 296.117185 644.475174 189.494819 510.097674 189.494819L510.097674 189.494819zM510.097674 189.494819" p-id="5129" fill="#ffffff"></path> <path data-v-d2fa3dc4="" d="M229.17761 519.102768 229.17761 299.209616c-3.079128 0-6.132674 0.125867-9.148357 0.366344C269.882684 191.349049 380.918569 115.974361 510.135536 115.974361c129.21185 0 240.253876 75.374688 290.103214 183.600575-3.016707-0.240477-6.066159-0.366344-9.148357-0.366344l0 219.894176c62.052265 0 112.390743-49.231261 112.390743-109.941971 0-41.235147-23.219841-77.163427-57.552787-95.982028-48.314379-136.089491-180.214455-233.837746-335.792812-233.837746-155.577335 0-287.469224 97.739045-335.788719 233.824443-34.344203 18.815531-57.555857 54.750975-57.555857 95.990215C116.79096 469.871507 167.090553 519.102768 229.17761 519.102768L229.17761 519.102768zM229.17761 519.102768" p-id="5130" fill="#ffffff"></path> <path data-v-d2fa3dc4="" d="M752.869906 645.160789c-63.570851 58.08593-148.919704 93.65196-242.772232 93.65196-93.676519 0-178.881087-35.435047-242.415099-93.327572C153.974837 702.767811 79.32465 804.722878 79.32465 943.226349l864.503403 0C943.827029 804.465005 867.780029 702.385095 752.869906 645.160789L752.869906 645.160789zM752.869906 645.160789" p-id="5131" fill="#ffffff"></path></svg>',
      svg2:
        '<svg data-v-d2fa3dc4="" t="1602598843971" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4227" width="20" height="20" class="icon"><path data-v-d2fa3dc4="" d="M693.12 347.264c11.776 0 23.36 0.896 35.008 2.176-31.36-146.048-187.456-254.528-365.696-254.528C163.2 94.912 0 230.656 0 403.136c0 99.52 54.272 181.248 145.024 244.736L108.8 756.864l126.72-63.488c45.312 8.896 81.664 18.112 126.912 18.112 11.392 0 22.656-0.512 33.792-1.344-7.04-24.256-11.2-49.6-11.2-76.032C385.088 475.776 521.024 347.264 693.12 347.264zM498.304 249.024c27.392 0 45.376 17.984 45.376 45.248 0 27.136-17.984 45.312-45.376 45.312-27.072 0-54.336-18.176-54.336-45.312C443.968 266.944 471.168 249.024 498.304 249.024zM244.672 339.584c-27.2 0-54.592-18.176-54.592-45.312 0-27.264 27.392-45.248 54.592-45.248S289.92 266.944 289.92 294.272C289.92 321.408 271.872 339.584 244.672 339.584zM1024 629.76c0-144.896-145.024-262.976-307.904-262.976-172.48 0-308.224 118.144-308.224 262.976 0 145.28 135.808 262.976 308.224 262.976 36.096 0 72.512-9.024 108.736-18.112l99.392 54.528-27.264-90.624C969.728 783.872 1024 711.488 1024 629.76zM616.128 584.384c-17.984 0-36.224-17.92-36.224-36.224 0-18.048 18.24-36.224 36.224-36.224 27.52 0 45.376 18.176 45.376 36.224C661.504 566.464 643.648 584.384 616.128 584.384zM815.488 584.384c-17.856 0-36.032-17.92-36.032-36.224 0-18.048 18.112-36.224 36.032-36.224 27.264 0 45.376 18.176 45.376 36.224C860.864 566.464 842.752 584.384 815.488 584.384z" p-id="4228" fill="#ffffff"></path></svg>',
      svg3:
        '<svg data-v-d2fa3dc4="" t="1602598897107" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5963" width="20" height="20" class="icon"><path data-v-d2fa3dc4="" d="M1024 0v102.4H0V0h1024zM512 153.6l512 496.7936h-297.984L727.1936 1024h-429.056v-373.6064H0L512 153.6z" p-id="5964" fill="#ffffff"></path></svg>'
    };
  },
  methods: {
    // 改变为文字样式
    toFonts(e, content) {
      e.target.innerHTML = content;
      if (content == "客服") {
        this.showPanel("side-service");
      } else if (content == "微信") {
        this.showPanel("side-wechat");
      }
    },
    // 改变为svg样式
    toSvg(e) {
      let icon = "";
      switch (e.target.innerHTML) {
        case "客服": {
          icon = this.svg1;
          this.hidePanel("side-service");

          break;
        }
        case "微信": {
          icon = this.svg2;
          this.hidePanel("side-wechat");
          break;
        }
        case "置顶": {
          icon = this.svg3;
          break;
        }
      }
      e.target.innerHTML = icon;
    },
    // 置顶
    toTop() {
      // 顺滑过渡
      let top = document.documentElement.scrollTop || document.body.scrollTop;
      let speed = Math.floor(top / 20);
      // 实现滚动效果
      const timer = setInterval(() => {
        speed = Math.floor(top / 20);
        document.body.scrollTop = document.documentElement.scrollTop = top -= speed;
        if (speed <= 0) {
          clearInterval(timer);
        }
      }, 10);
    },
    // 显示客服面板
    showPanel(obj) {
      let div = document.getElementsByClassName(obj);
      div[0].style.transform = "translateX(0px)";
    },
    // 隐藏面板
    hidePanel(obj) {
      let div = document.getElementsByClassName(obj);
      div[0].style.transform = "translateX(-150px)";
    },
    // 显示客服聊天框
    displayService(){
    }
  },
  computed : {
    displayService:{
      get(){
        return this.$store.state.displayService;
      },
      set(val){
        this.$store.commit('setService',val);
      }
    }
  }
};
</script>
<style lang="scss" scoped>
@import "./SideNav.scss";
</style>